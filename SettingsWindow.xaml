<Window x:Class="DesktopShortcutManager.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:local="clr-namespace:DesktopShortcutManager"
        xmlns:converters="clr-namespace:DesktopShortcutManager.Converters"
        mc:Ignorable="d"
        Title="设置" 
        SizeToContent="Height" 
        Width="350"
        WindowStartupLocation="CenterOwner" 
        ResizeMode="NoResize" 
        ShowInTaskbar="False"
        Icon="/Assets/settings.ico">

    <Window.Resources>
        <!-- InvertBoolConverter is still needed for the RadioButtons -->
        <converters:InvertBoolConverter x:Key="InvertBoolConverter"/>
    </Window.Resources>

    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Title -->
            <RowDefinition Height="Auto"/>
            <!-- Settings Grid -->
            <RowDefinition Height="Auto"/>
            <!-- Close Button -->
        </Grid.RowDefinitions>

        <TextBlock Grid.Row="0" Text="应用程序设置" FontSize="16" FontWeight="Bold" Margin="0,0,0,15"/>

        <Grid Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" MinWidth="80"/>
                <!-- Labels -->
                <ColumnDefinition Width="*"/>
                <!-- Controls -->
            </Grid.ColumnDefinitions>


            <!-- 开机自启动设置 👇 -->
            <TextBlock Grid.Row="0" Grid.Column="0" Text="系统集成:" VerticalAlignment="Center" FontWeight="SemiBold"/>
            <CheckBox Grid.Row="0" Grid.Column="1" Content="开机时自动启动" 
              IsChecked="{Binding RunAtStartup, Mode=TwoWay}" 
              Margin="10,5" VerticalAlignment="Center"/>

            <!-- 锁定设置 -->
            <TextBlock Grid.Row="1" Grid.Column="0" Text="窗口行为:" VerticalAlignment="Center" FontWeight="SemiBold"/>
            <CheckBox Grid.Row="1" Grid.Column="1" Content="锁定窗口位置和大小" 
                      IsChecked="{Binding IsLocked, Mode=TwoWay}" 
                      Margin="10,5" VerticalAlignment="Center"/>

            <!-- 打开方式设置 -->
            <TextBlock Grid.Row="2" Grid.Column="0" Text="打开方式:" VerticalAlignment="Top" Margin="0,8,0,0" FontWeight="SemiBold"/>
            <StackPanel Grid.Row="2" Grid.Column="1" Margin="10,5">
                <RadioButton Content="双击打开快捷方式" GroupName="Activation" 
             IsChecked="{Binding IsOpenWithDoubleClick, Mode=TwoWay}" Margin="0,5,0,0"/>
                <RadioButton Content="单击打开快捷方式" GroupName="Activation" 
                             IsChecked="{Binding IsOpenWithSingleClick, Mode=TwoWay}"/>

            </StackPanel>

            <!-- 外观设置 -->
            <TextBlock Grid.Row="3" Grid.Column="0" Text="不透明度:" VerticalAlignment="Center" FontWeight="SemiBold"/>
            <Slider Grid.Row="3" Grid.Column="1" Minimum="20" Maximum="100" IsSnapToTickEnabled="True" TickFrequency="10"
                    Value="{Binding OpacityValue, Mode=TwoWay}" 
                    Margin="10,5" VerticalAlignment="Center"/>

            <!-- 图标大小 -->
            <TextBlock Grid.Row="4" Grid.Column="0" Text="图标大小:" VerticalAlignment="Center" FontWeight="SemiBold"/>
            <Slider Grid.Row="4" Grid.Column="1" Minimum="24" Maximum="64" TickFrequency="8" IsSnapToTickEnabled="True"
                    Value="{Binding IconSize, Mode=TwoWay}" 
                    Margin="10,5" VerticalAlignment="Center"/>
        </Grid>

        <Button Grid.Row="2" Content="关闭" Width="80" HorizontalAlignment="Right" Margin="0,20,0,0"
                IsDefault="True" Click="CloseButton_Click"/>
    </Grid>
</Window>